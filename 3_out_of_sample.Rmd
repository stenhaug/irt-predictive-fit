The goal of predictive fit metrics is to measure how well a model predicts out-of-sample data from the DGM, but what, exactly, should be considered out-of-sample? Should it be the person, the item, or the item response that is out-of-sample? The fact that item responses are cross-classified within persons and items complicates this discussion [@furr2017bayesian]. If entire persons are out-of-sample, then in-sample ability estimates are unavailable, meaning that they cannot be used to generate predictions. Instead, predictions can be made based on $\hat g(\bm{\theta})$. On the other hand, if it is single item responses that are out-of-sample, then we can use a person's responses to in-sample items to generate in-sample ability estimates.

We denote some arbitrary out-of-sample matrix $\tilde Y$. We consider two^[Both involve in-sample items. However, work by @de2008random proposes random item response models wherein out-of-sample items are tractable; future work could potentially focus on this case.] versions of $\tilde Y$, which vary based on what is considered out-of-sample. The first version of $\tilde Y$ comes from in-sample persons responding to in-sample items. We denote this out-of-sample matrix as $\tilde Y^{\text{MR}}$, with "MR" abbreviating "missing responses". The unit of observation for $\tilde Y^{\text{MR}}$ is the item response. The missing response on the left of Figure \ref{fig:elpl} shows that Person A's response to item 1 is missing. The model's prediction task is to estimate the probability of this missing response. To do so, the model can use the other persons to estimate item 1's parameters and the other items to estimate Person A's ability. This logic can be applied to each entry $\tilde Y^{\text{MR}}$, and therefore $\tilde Y^{\text{MR}}$ has the same dimensions as $Y$. Adaptive testing is an application in which the missing responses prediction task might make sense: The goal of an adaptive testing engine is often to next assign an item that the person has a fixed chance (e.g., 50\%) of responding correctly to. Accordingly, the model that can best estimate these probabilities may be most useful.

The second version of \(\tilde Y\) comes from out-of-sample persons responding to in-sample items. We denote this out-of-sample matrix as \(\tilde Y^{\text{MP}}\), with "MP" abbreviating "missing persons." The unit of observation for \(\tilde Y^{\text{MP}}\) is a person's vector of item responses. The bottom row on the right of Figure \ref{fig:elpl} represents a new person, Person D, responding to each of the items for the first time. The prediction task is for the model to estimate the likelihood of all of Person D's item responses. We can use the other persons to estimate item parameters, but we have no way to estimate Person D's ability. As a result, we have to make a prediction about their entire vector of item responses---the unit of analysis---by treating ability as a nuisance variable; to do this, we average (i.e., integrate) over the distribution, denoted \(g(\theta)\), from which we assume Person D's ability originates.\footnote{This is how marginal maximum likelihood estimation (MMLE) treats ability when calculating likelihood (thus, ``marginal'' likelihood) [@baker2004item].} So that \(\tilde Y^{\text{MP}}\) has the same scale as \(Y\), we might consider there to be as many missing persons as there are persons in \(Y\). Traditional linear testing is an application wherein the missing persons prediction task might be preferred: the ability of the next test taker is unknown and a reasonable goal might be to prefer a scoring model that will perform optimally in the case of this heightened uncertainty. Note that LRT, AIC, and BIC all implicitly target the missing persons prediction task because they are based on the marginalized log likelihood of the model.

```{r elpl, echo=FALSE, fig.cap="Understanding the two out-of-sample item response matrices, $\\tilde Y^{\\text{MR}}$ and $\\tilde Y^{\\text{MP}}$. With missing responses, the unit of observation is a single item response and the person's other responses can be used to estimate ability. With missing persons, the unit of observation is the person's response vector and there are no responses with which to estimate ability.", out.width = '60%'}
knitr::include_graphics(here("_paper/images/cvmatrices-new.png"))
```
